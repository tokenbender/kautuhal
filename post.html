<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>blog post - tokenbender</title>
    <meta name="description" content="Technical notes and essays from tokenbender.">
    <meta name="robots" content="noindex,follow,max-image-preview:large">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="tokenbender">
    <meta property="og:title" content="blog post - tokenbender">
    <meta property="og:description" content="Technical notes and essays from tokenbender.">
    <meta property="og:url" content="https://tokenbender.com/post.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="blog post - tokenbender">
    <meta name="twitter:description" content="Technical notes and essays from tokenbender.">
    <link rel="canonical" id="canonical-link" href="https://tokenbender.com/post.html">
    <script>
        (function () {
            const storageKey = 'tokenbender-theme';
            const root = document.documentElement;
            let storedTheme = null;

            try {
                storedTheme = window.localStorage.getItem(storageKey);
            } catch (error) {}

            if (storedTheme === 'light' || storedTheme === 'dark') {
                root.setAttribute('data-theme', storedTheme);
                return;
            }

            const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
            root.setAttribute('data-theme', prefersLight ? 'light' : 'dark');
        })();
    </script>
    <script>
        (function () {
            const postId = new URLSearchParams(window.location.search).get('id');
            if (postId) {
                window.location.replace(`/posts/${encodeURIComponent(postId)}/`);
            }
        })();
    </script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css">
    <script type="application/ld+json" id="article-structured-data">
        {
            "@context": "https://schema.org",
            "@type": "BlogPosting",
            "headline": "blog post - tokenbender",
            "description": "Technical notes and essays from tokenbender.",
            "author": {
                "@type": "Person",
                "name": "tokenbender"
            },
            "publisher": {
                "@type": "Person",
                "name": "tokenbender"
            },
            "url": "https://tokenbender.com/post.html"
        }
    </script>
</head>
<body>
    <header>
        <nav>
            <div class="nav-container">
                <a href="./" class="logo">tokenbender</a>
                <div class="nav-links">
                    <a href="./">home</a>
                    <a href="https://github.com/tokenbender" target="_blank">github</a>
                    <button type="button" class="theme-toggle" data-theme-toggle aria-label="switch theme">light</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="container">
        <article class="post-content" id="post-content">
            <!-- post content will be loaded here -->
        </article>
    </main>

    <footer>
        <p>&copy; 2025 tokenbender. built with â™¥ and vanilla js.</p>
    </footer>

    <script>
        (function () {
            const storageKey = 'tokenbender-theme';
            const root = document.documentElement;
            const toggle = document.querySelector('[data-theme-toggle]');

            const getTheme = () => root.getAttribute('data-theme') === 'light' ? 'light' : 'dark';

            const renderToggle = (activeTheme) => {
                if (!toggle) {
                    return;
                }

                const targetTheme = activeTheme === 'light' ? 'dark' : 'light';
                toggle.textContent = targetTheme;
                toggle.setAttribute('aria-label', `switch to ${targetTheme} theme`);
                toggle.setAttribute('aria-pressed', activeTheme === 'light' ? 'true' : 'false');
            };

            const setTheme = (theme, persist) => {
                root.setAttribute('data-theme', theme);
                renderToggle(theme);

                if (persist) {
                    try {
                        window.localStorage.setItem(storageKey, theme);
                    } catch (error) {}
                }
            };

            setTheme(getTheme(), false);

            if (toggle) {
                toggle.addEventListener('click', () => {
                    const nextTheme = getTheme() === 'light' ? 'dark' : 'light';
                    setTheme(nextTheme, true);
                });
            }

            if (window.matchMedia) {
                const media = window.matchMedia('(prefers-color-scheme: light)');

                const onChange = (event) => {
                    let storedTheme = null;
                    try {
                        storedTheme = window.localStorage.getItem(storageKey);
                    } catch (error) {}

                    if (storedTheme === 'light' || storedTheme === 'dark') {
                        return;
                    }

                    setTheme(event.matches ? 'light' : 'dark', false);
                };

                if (typeof media.addEventListener === 'function') {
                    media.addEventListener('change', onChange);
                } else if (typeof media.addListener === 'function') {
                    media.addListener(onChange);
                }
            }
        })();
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/contrib/auto-render.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
